<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    //promise
    let p = new Promise(function(resolve,reject){
        setTimeout(() => {
            console.log(111)
            resolve(222)
        },2000)
    }).then((response) => {
        console.log(response)
    })
    //promise的异步回调
    let p1 = function(){
        return new Promise(function(resolve,reject){
            setTimeout(() => {
                resolve("第一个2s到了");
            },2000)
        })
    }
    let p2 = function(){
        return new Promise(function(resolve,reject){
            setTimeout(() => {
                resolve("第二个3s到了");
            },3000)
        })
    }
    let p3 = function(){
        return new Promise(function(resolve,reject){
            setTimeout(() => {
                resolve("第三个3s到了");
            },3000)
        })
    }
    // p1().then((response) => {
    //     console.log(response);//第一个2s到了
    //     return p2();//返回p2的Promise
    // }).then((res) => {
    //     console.log(res) //第二个3s到了
    // })
    
    //async和await的使用 使之避免.then这种连续调用结构方法的使用也能达到同步的效果 在等待2秒后在等待3秒
    async function asy(){//异步操作 代码清晰 思路明了
        console.log("async")
        let result1 = await p1();//得到resolve的值
        console.log(result1);
        let result2 = await p2();
        console.log(result1);
        console.log(result2);
    }
    asy();
    console.log(99)
    async function asy1(){
        let result3 = await p3();
        console.log(result3);
    }
    asy1();
</script>
</html>